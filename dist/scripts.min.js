"use strict";function setActiveLink(e){e.preventDefault(),Array.from(links,function(e){return e.classList.remove("menu__link--active")});var t=e.target;if(!t.classList.contains("menu__link"))return!1;t.classList.add("menu__link--active"),activeLink.node=pages[arrLinks.indexOf(t.textContent)],activeLink.node.classList.add("js-block"),wayfull.classList.remove("js-block")}function goAddWay(){var e=links[3];e.classList.contains("menu__link--active")||(Array.from(links,function(e){return e.classList.remove("menu__link--active")}),e.classList.add("menu__link--active")),activeLink.node.classList.remove("js-block"),activeLink.node=pages[3],activeLink.node.classList.add("js-block"),wayfull.classList.remove("js-block")}function getWeather(e,t,r){var a=new XMLHttpRequest;a.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=function(e){var t=a(e);this.weekday=t.toLocaleString(r,{weekday:"long"}),this.date=t.toLocaleString(r,{day:"2-digit",month:"long",year:"numeric"})},t=function(e,t,r,a,n){this.title=e,this.icon=t,this.precipType=r,this.temperature=a>0?"+"+Math.round(a):Math.round(a),this.description=n},a=function(e){return new Date(1e3*e)},n=JSON.parse(this.responseText);weather.now.icon=n.currently.icon,weather.now.description=n.currently.summary,n.currently.temperature>0?weather.now.temperature="+"+Math.round(n.currently.temperature):weather.now.temperature=Math.round(n.currently.temperature);var o=24-a(n.hourly.data[0].time).getHours();weather.today.header=new e(n.hourly.data[0].time);var i=n.hourly.data.slice(0,o+1),d=[];i.forEach(function(e,n){return d[n]=new t(a(e.time).toLocaleString(r,{hour:"2-digit"}),e.icon,e.precipType,Math.round(e.temperature),e.summary)}),weather.today.body=d.filter(function(e){return e.title%2==0}).map(function(e){return new t(e.title+":00",e.icon,e.precipType,e.temperature,e.description)}),weather.today.body[weather.today.body.length-1].title="24:00",weather.tomorrow.header=new e(n.hourly.data[o].time);var s=n.hourly.data.slice(o,o+25),l=s[2],c=s[8],y=s[14],u=s[20],h=[l,c,y,u],m=["Ночь","Утро","День","Вечер"];h.forEach(function(e,r){return weather.tomorrow.body[r]=new t(m[r],e.icon,e.precipType,Math.round(e.temperature),e.summary)});var p=a(n.hourly.data[0].time).getDay(),w=void 0;p<6?w=5-p:6===p&&(w=6);var W=void 0;p<6?W=6-p:6===p&&(W=0,sundayHide());var v=o+24*w,f=o+24*W;weather.weekend.saturday.header=new e(n.hourly.data[v].time),weather.weekend.sunday.header=new e(n.hourly.data[f].time);var g=void 0;g=6!==w?n.hourly.data.slice(v,v+24):n.hourly.data.slice(v-o,v-o+24);[g[2],g[8],g[14],g[20]].forEach(function(e,r){return weather.weekend.saturday.body[r]=new t(m[r],e.icon,e.precipType,Math.round(e.temperature),e.summary)});var x=n.hourly.data.slice(f,f+24),S=x[2],k=x[8],T=x[14],_=x[20],L=[S,k,T,_];0!==p?L.forEach(function(e,r){return weather.weekend.sunday.body[r]=new t(m[r],e.icon,e.precipType,Math.round(e.temperature),e.summary)}):x.forEach(function(e,n){return weather.weekend.sunday.body[n]=new t(a(e.time).toLocaleString(r,{hour:"2-digit",minute:"2-digit"}),e.icon,e.precipType,Math.round(e.temperature),e.summary)}),console.log(weather),console.log(n),iconWeather(),textWeather(),headerTemplate(),todayHeaderTemplate(),todayTemplate(),tomorrowHeaderTemplate(),tomorrowTemplate(),saturdayHeaderTemplate(),saturdayTemplate(),sundayHeaderTemplate(),sundayTemplate(),iconTodayWeather(),iconTomorowWeather(),iconWeekendWeather()}};var n="https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/606d16650a24656a795100b26c1b1a3e/"+e+","+t+"?extend=hourly&lang=ru&units=si";a.open("GET",n,!0),a.send()}function jsFirstSity(e){e.preventDefault(),currentPlace.textContent=firstSity.textContent,getWeather(50.4501,30.523400000000038,"ru"),void 0!==weatherWay.start&&(weatherWay.start.lat="50.4501",weatherWay.start.lng="30.523400000000038",weatherWay.start.sityName="Киев",void 0!==inputTime&&getWeatherWayFirst(weatherWay.start.lat,weatherWay.start.lng,dateConvert(inputTime.value),"ru"))}function jsSecondSity(e){e.preventDefault(),currentPlace.textContent=secondSity.textContent,getWeather(48.46471700000001,35.04618299999993,"ru"),positions.sityFullName="Днипро, Днепропетровская область, Украина",addsitySity.textContent=positions.sityFullName,void 0!==weatherWay.start&&(weatherWay.start.lat="48.46471700000001",weatherWay.start.lng="35.04618299999993",weatherWay.start.sityName="Днипро",void 0!==inputTime&&getWeatherWayFirst(weatherWay.start.lat,weatherWay.start.lng,dateConvert(inputTime.value),"ru"))}function jsThirdSity(e){e.preventDefault(),currentPlace.textContent=thirdSity.textContent,getWeather(49.83968300000001,24.029717000000005,"ru"),positions.sityFullName="Львов, Львовская область, Украина",addsitySity.textContent=positions.sityFullName,void 0!==weatherWay.start&&(weatherWay.start.lat="49.83968300000001",weatherWay.start.lng="24.029717000000005",weatherWay.start.sityName="Львов",void 0!==inputTime&&getWeatherWayFirst(weatherWay.start.lat,weatherWay.start.lng,dateConvert(inputTime.value),"ru"))}function jsFourthSity(e){e.preventDefault(),currentPlace.textContent=fourthSity.textContent,getWeather(49.9935,36.230383000000074,"ru"),positions.sityFullName="Харьков, Харьковская область, Украина",addsitySity.textContent=positions.sityFullName,void 0!==weatherWay.start&&(weatherWay.start.lat="49.9935",weatherWay.start.lng="36.230383000000074",weatherWay.start.sityName="Харьков",void 0!==inputTime&&getWeatherWayFirst(weatherWay.start.lat,weatherWay.start.lng,dateConvert(inputTime.value),"ru"))}function jsFifthSity(e){e.preventDefault(),currentPlace.textContent=fifthSity.textContent,getWeather(46.482526,30.723309500000028,"ru"),positions.sityFullName="Одесса, Одесская область, Украина",addsitySity.textContent=positions.sityFullName,void 0!==weatherWay.start&&(weatherWay.start.lat="46.482526",weatherWay.start.lng="30.723309500000028",weatherWay.start.sityName="Одесса",void 0!==inputTime&&getWeatherWayFirst(weatherWay.start.lat,weatherWay.start.lng,dateConvert(inputTime.value),"ru"))}function addCityBlock(e,t){var r="datepicker_"+t,a=document.createElement("div");a.classList.add("add-sity__str","js-count_"+t);var n='\n\n        <p class="add-sity__sity">'+e+'</p>\n        <p class="add-sity__arrival">приезд/отъезд</p>\n        <p class="add-sity__date">\n            <input type="text" class="js-calendar" id="'+r+'" placeholder="Дата">\n        </p>\n        <p class="add-sity__del"></p>\n\n';a.innerHTML+=n,htmlCityBlock.append(a);var o={};o["picker_"+t]=new Pikaday({field:document.getElementById(r),firstDay:1,format:"D.MM.YYYY",onSelect:function(){this.getMoment().format("Do MM.YYYY");var e=document.getElementById(r);positionsAddCity.count=t,getWeatherWay(weatherWay["start_"+t].lat,weatherWay["start_"+t].lng,dateConvert(e.value),"ru"),console.log(e.value)},i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],weekdaysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]}}),weatherWay["start_"+t]={},weatherWay["start_"+t].lat=positionsAddCity.lat,weatherWay["start_"+t].lng=positionsAddCity.lng,weatherWay["start_"+t].sityName=positionsAddCity.sityName,weatherWay["start_"+t].toDay={},weatherWay["start_"+t].toDay.header={},weatherWay["start_"+t].toDay.body=[],console.log(weatherWay)}function dateConvert(e){var t=e.split("."),r=t[0],a=t[1]-1,n=t[2];return new Date(n,a,r).getTime()/1e3}function getWeatherWay(e,t,r,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=function(e){var t=r(e);this.weekday=t.toLocaleString(a,{weekday:"long"}),this.date=t.toLocaleString(a,{day:"2-digit",month:"long",year:"numeric"})},t=function(e,t,r,a,n){this.title=e,this.icon=t,this.precipType=r,this.temperature=a>0?"+"+Math.round(a):Math.round(a),this.description=n},r=function(e){return new Date(1e3*e)},n=JSON.parse(this.responseText);console.log(n),weatherWay["start_"+positionsAddCity.count].toDay.header=new e(n.hourly.data[0].time);var o=n.hourly.data.slice(0,24),i=o[12],d=o[23],s=[i,d];console.log(s);var l=["Днем","Ночью"];s.forEach(function(e,r){return weatherWay["start_"+positionsAddCity.count].toDay.body[r]=new t(l[r],e.icon,e.precipType,Math.round(e.temperature),e.summary)}),console.log(weatherWay),wayfullTemplate(weatherWay["start_"+positionsAddCity.count]),iconWayFull()}};var o="https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/606d16650a24656a795100b26c1b1a3e/"+e+","+t+","+r+"?extend=hourly&lang=ru&units=si";n.open("GET",o,!0),n.send()}function getWeatherWayFirst(e,t,r,a){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=function(e){var t=r(e);this.weekday=t.toLocaleString(a,{weekday:"long"}),this.date=t.toLocaleString(a,{day:"2-digit",month:"long",year:"numeric"})},t=function(e,t,r,a,n){this.title=e,this.icon=t,this.precipType=r,this.temperature=a>0?"+"+Math.round(a):Math.round(a),this.description=n},r=function(e){return new Date(1e3*e)},n=JSON.parse(this.responseText);console.log(n),weatherWay.start.toDay.header=new e(n.hourly.data[0].time);var o=n.hourly.data.slice(0,24),i=o[12],d=o[23],s=[i,d];console.log(s);var l=["Днем","Ночью"];s.forEach(function(e,r){return weatherWay.start.toDay.body[r]=new t(l[r],e.icon,e.precipType,Math.round(e.temperature),e.summary)}),console.log(weatherWay),wayfullTemplateFirst(weatherWay.start),iconWayFull()}};var o="https://cors-anywhere.herokuapp.com/https://api.darksky.net/forecast/606d16650a24656a795100b26c1b1a3e/"+e+","+t+","+r+"?extend=hourly&lang=ru&units=si";n.open("GET",o,!0),n.send()}function headerTemplate(){var e=document.getElementById("header-template").innerHTML,t=Handlebars.compile(e),r=t(weather.now),a=document.querySelector(".header-visual__js-block"),n=document.querySelector(".header-visual__js-templ");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function textWeather(){headerTemplate();var e=weather.now.description.toLowerCase();weather.now.temperature<-50&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[0]+", "+e+" - "+textWeatherArr.clothesWeather[1]),weather.now.temperature>=-50&&weather.now.temperature<=-40&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[1]+", "+e+" - "+textWeatherArr.clothesWeather[1]),weather.now.temperature>=-39&&weather.now.temperature<=-30&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[2]+", "+e+" - "+textWeatherArr.clothesWeather[1]),weather.now.temperature>=-29&&weather.now.temperature<=-20&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[3]+", "+e+" - "+textWeatherArr.clothesWeather[1]),weather.now.temperature>=-19&&weather.now.temperature<=-10&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[4]+", "+e+" - "+textWeatherArr.clothesWeather[1]),weather.now.temperature>=-9&&weather.now.temperature<=0&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[5]+", "+e+" - "+textWeatherArr.clothesWeather[1]),weather.now.temperature>=1&&weather.now.temperature<=8&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[6]+", "+e+" - "+textWeatherArr.clothesWeather[0]),weather.now.temperature>=1&&weather.now.temperature<=8&&"wind"===weather.now.icon&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[6]+", "+e+" - "+textWeatherArr.clothesWeather[2]),weather.now.temperature>=1&&weather.now.temperature<=8&&"rain"===weather.now.icon&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[6]+", "+e+" - "+textWeatherArr.clothesWeather[3]),weather.now.temperature>=9&&weather.now.temperature<=16&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[7]+", "+e),weather.now.temperature>=9&&weather.now.temperature<=16&&"wind"===weather.now.icon&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[7]+", "+e+" - "+textWeatherArr.clothesWeather[4]),weather.now.temperature>=9&&weather.now.temperature<=16&&"rain"===weather.now.icon&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[7]+", "+e+" - "+textWeatherArr.clothesWeather[5]),weather.now.temperature>=17&&weather.now.temperature<=24&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[8]+", "+e),weather.now.temperature>=17&&weather.now.temperature<=24&&"rain"===weather.now.icon&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[8]+", "+e+" - "+textWeatherArr.clothesWeather[6]),weather.now.temperature>=25&&weather.now.temperature<=32&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[9]+", "+e),weather.now.temperature>=25&&weather.now.temperature<=32&&"rain"===weather.now.icon&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[9]+", "+e+" - "+textWeatherArr.clothesWeather[6]),weather.now.temperature>=33&&weather.now.temperature<=40&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[10]+", "+e),weather.now.temperature>=41&&weather.now.temperature<=48&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[11]+", "+e),weather.now.temperature>=49&&weather.now.temperature<=56&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[12]+", "+e),weather.now.temperature>=57&&(headerText.textContent=textWeatherArr.textWeather+" "+textWeatherArr.viewWeather[13]+", "+e)}function todayTemplate(){var e=document.getElementById("today-template").innerHTML,t=Handlebars.compile(e),r=t(weather.today.body),a=document.querySelector(".today__main"),n=document.querySelector(".today__block");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function todayHeaderTemplate(){var e=document.getElementById("today-header-template").innerHTML,t=Handlebars.compile(e),r=t(weather.today.header),a=document.querySelector(".today__title"),n=document.querySelector(".today__header-block");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function tomorrowTemplate(){var e=document.getElementById("tomorrow-template").innerHTML,t=Handlebars.compile(e),r=t(weather.tomorrow.body),a=document.querySelector(".tomorrow__main"),n=document.querySelector(".tomorrow__block");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function tomorrowHeaderTemplate(){var e=document.getElementById("tomorrow-header-template").innerHTML,t=Handlebars.compile(e),r=t(weather.tomorrow.header),a=document.querySelector(".tomorrow__title"),n=document.querySelector(".tomorrow__header-block");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function saturdayHeaderTemplate(){var e=document.getElementById("saturday-header-template").innerHTML,t=Handlebars.compile(e),r=t(weather.weekend.saturday.header),a=document.querySelector(".js-saturday__title"),n=document.querySelector(".saturday__header-block");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function saturdayTemplate(){var e=document.getElementById("saturday-template").innerHTML,t=Handlebars.compile(e),r=t(weather.weekend.saturday.body),a=document.querySelector(".saturday__main"),n=document.querySelector(".saturday__block");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function sundayHeaderTemplate(){var e=document.getElementById("sunday-header-template").innerHTML,t=Handlebars.compile(e),r=t(weather.weekend.sunday.header),a=document.querySelector(".js-sunday__title"),n=document.querySelector(".sunday__header-block");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function sundayTemplate(){var e=document.getElementById("sunday-template").innerHTML,t=Handlebars.compile(e),r=t(weather.weekend.sunday.body),a=document.querySelector(".sunday__main"),n=document.querySelector(".sunday__block");""!==a.innerHTML?(n.remove(),a.innerHTML+=r):a.innerHTML+=r}function sundayHide(){document.querySelector(".js-sunday").classList.add("js-sunday--none")}function iconWeather(){var e=weather.now.icon,t=new Skycons({color:"#fcf9e3"}),r=document.querySelector(".header-visual__icon");"clear-day"===e?(r.id="clear-day",t.add("clear-day",Skycons.PARTLY_CLOUDY_DAY)):"clear-night"===e?(r.id="clear-night",t.add("clear-night",Skycons.CLEAR_NIGHT)):"rain"===e?(r.id="rain",t.add("rain",Skycons.RAIN)):"snow"===e?(r.id="snow",t.add("snow",Skycons.SNOW)):"sleet"===e?(r.id="sleet",t.add("sleet",Skycons.SLEET)):"wind"===e?(r.id="wind",t.add("wind",Skycons.WIND)):"fog"===e?(r.id="fog",t.add("fog",Skycons.FOG)):"cloudy"===e?(r.id="cloudy",t.add("cloudy",Skycons.CLOUDY)):"partly-cloudy-day"===e?(r.id="partly-cloudy-day",t.add("partly-cloudy-day",Skycons.PARTLY_CLOUDY_DAY)):"partly-cloudy-night"===e&&(r.id="partly-cloudy-night",t.add("partly-cloudy-night",Skycons.PARTLY_CLOUDY_NIGHT)),t.play()}function iconTodayWeather(){var e=new Skycons({color:"#8f496c"});document.querySelectorAll(".today__precip canvas").forEach(function(t){e.add(t,skyconType(t.className))}),e.play()}function iconTomorowWeather(){var e=new Skycons({color:"#8f496c"});document.querySelectorAll(".tomorrow__precip canvas").forEach(function(t){e.add(t,skyconType(t.className))}),e.play()}function iconWeekendWeather(){var e=new Skycons({color:"#8f496c"});document.querySelectorAll(".weekend__precip canvas").forEach(function(t){e.add(t,skyconType(t.className))}),e.play()}function wayfullTemplateFirst(e){if(void 0!==positionsAddCity.tempWays){var t=document.querySelector(".js-way"),r=document.getElementById("wayfull-template").innerHTML,a=Handlebars.compile(r),n=a(e),o=(document.querySelector(".wayfull"),document.createElement("div"));o.classList.add("wayfull__block","js-way"),positionsAddCity.tempWays=document.querySelector(".js-way"),t.after(o),o.innerHTML+=n,t.remove()}else{var i=document.getElementById("wayfull-template").innerHTML,d=Handlebars.compile(i),s=d(e),l=document.querySelector(".wayfull"),c=document.createElement("div");c.classList.add("wayfull__block","js-way"),positionsAddCity.tempWays=document.querySelector(".js-way"),l.append(c),c.innerHTML+=s}}function wayfullTemplate(e){if(void 0!==positionsAddCity["tempWays_"+positionsAddCity.count]){var t=document.querySelector(".js-way_"+positionsAddCity.count),r=document.getElementById("wayfull-template").innerHTML,a=Handlebars.compile(r),n=a(e),o=(document.querySelector(".wayfull"),document.createElement("div"));o.classList.add("wayfull__block","js-way_"+positionsAddCity.count),positionsAddCity["tempWays_"+positionsAddCity.count]=document.querySelector(".js-way_"+positionsAddCity.count),t.after(o),o.innerHTML+=n,t.remove()}else{var i=document.getElementById("wayfull-template").innerHTML,d=Handlebars.compile(i),s=d(e),l=document.querySelector(".wayfull"),c=document.createElement("div");c.classList.add("wayfull__block","js-way_"+positionsAddCity.count),positionsAddCity["tempWays_"+positionsAddCity.count]=document.querySelector(".js-way_"+positionsAddCity.count),l.append(c),c.innerHTML+=s}}function iconWayFull(){var e=new Skycons({color:"#8f496c"});document.querySelectorAll(".wayfull__precip canvas").forEach(function(t){e.add(t,skyconType(t.className))}),e.play()}Array.from||(Array.from=function(){var e=Object.prototype.toString,t=function(t){return"function"==typeof t||"[object Function]"===e.call(t)},r=function(e){var t=Number(e);return isNaN(t)?0:0!==t&&isFinite(t)?(t>0?1:-1)*Math.floor(Math.abs(t)):t},a=Math.pow(2,53)-1,n=function(e){var t=r(e);return Math.min(Math.max(t,0),a)};return function(e){var r=this,a=Object(e);if(null==e)throw new TypeError("Array.from requires an array-like object - not null or undefined");var o,i=arguments.length>1?arguments[1]:void 0;if(void 0!==i){if(!t(i))throw new TypeError("Array.from: when provided, the second argument must be a function");arguments.length>2&&(o=arguments[2])}for(var d,s=n(a.length),l=t(r)?Object(new r(s)):new Array(s),c=0;c<s;)d=a[c],l[c]=i?void 0===o?i(d,c):i.call(o,d,c):d,c+=1;return l.length=s,l}}());var controls=document.querySelector(".page__menu"),links=controls.querySelectorAll(".menu__link"),addSity=document.querySelector(".add-sity"),wayfull=document.querySelector(".wayfull"),lookWay=document.querySelector(".add-sity__look"),pages=document.querySelectorAll(".js-page"),arrLinks=[links[0].textContent,links[1].textContent,links[2].textContent,links[3].textContent],buttonWay=document.querySelector(".button-way__button"),activeLink={node:pages[0]},removeActiveLink=function(e){e.preventDefault(),activeLink.node.classList.remove("js-block")},activeWayFullLink=function(e){e.preventDefault(),addSity.classList.remove("js-block"),wayfull.classList.add("js-block")};buttonWay.addEventListener("click",goAddWay),controls.addEventListener("click",removeActiveLink),controls.addEventListener("click",setActiveLink),lookWay.addEventListener("click",activeWayFullLink);var inputCity=document.getElementById("search-city"),autocomplete=new google.maps.places.Autocomplete(inputCity,{types:["(cities)"]}),currentPlace=document.getElementById("header-visual__city"),positions={latPositions:"",lngPositions:"",sityFullName:"Киев, Украина"},addsitySity=document.querySelector(".add-sity__sity");google.maps.event.addListener(autocomplete,"place_changed",function(){var e=autocomplete.getPlace();console.log(e),currentPlace.textContent=e.name,positions.latPositions=e.geometry.location.lat(),positions.lngPositions=e.geometry.location.lng(),positions.sityFullName=e.formatted_address,void 0!==inputTime&&void 0===weatherWay.start||(weatherWay.start.lat=e.geometry.location.lat(),weatherWay.start.lng=e.geometry.location.lng(),weatherWay.start.sityName=e.name),addsitySity.textContent=positions.sityFullName,console.log(e.formatted_address),getWeather(positions.latPositions,positions.lngPositions,"ru")});var weather={now:{icon:"",temperature:"",description:""},today:{header:{},body:[]},tomorrow:{header:{},body:[]},weekend:{saturday:{header:{},body:[]},sunday:{header:{},body:[]}}};getWeather(50.4501,30.523400000000038,"ru");var firstSity=document.querySelector(".js-firstSity"),secondSity=document.querySelector(".js-secondSity"),thirdSity=document.querySelector(".js-thirdSity"),fourthSity=document.querySelector(".js-fourthSity"),fifthSity=document.querySelector(".js-fifthSity");firstSity.addEventListener("click",jsFirstSity),secondSity.addEventListener("click",jsSecondSity),thirdSity.addEventListener("click",jsThirdSity),fourthSity.addEventListener("click",jsFourthSity),fifthSity.addEventListener("click",jsFifthSity);var skyconType=function(e){return"rain"===e?Skycons.RAIN:"snow"===e?Skycons.SNOW:"sleet"===e?Skycons.SLEET:"hail"===e?Skycons.SLEET:"wind"===e?Skycons.WIND:"fog"===e?Skycons.FOG:"cloudy"===e?Skycons.CLOUDY:"partly-cloudy-day"===e?Skycons.PARTLY_CLOUDY_DAY:"partly-cloudy-night"===e?Skycons.PARTLY_CLOUDY_NIGHT:"clear-day"===e?Skycons.CLEAR_DAY:"clear-night"===e?Skycons.CLEAR_NIGHT:Skycons.CLOUDY};addsitySity.textContent=positions.sityFullName;var addCity=document.getElementById("add-city"),autocompleteAddCity=new google.maps.places.Autocomplete(addCity,{types:["(cities)"]}),positionsAddCity={sityFullName:"",sityName:"",lengthArrSity:1,lat:"",lng:"",count:""},htmlCityBlock=document.querySelector(".js-add-sity__block");google.maps.event.addListener(autocompleteAddCity,"place_changed",function(){var e=autocompleteAddCity.getPlace();positionsAddCity.lat=e.geometry.location.lat(),positionsAddCity.lng=e.geometry.location.lng(),positionsAddCity.sityName=e.name,addCityBlock(e.formatted_address,positionsAddCity.lengthArrSity),addCity.classList.add("js-none"),positionsAddCity.lengthArrSity+=1});var addCityButton=document.querySelector(".add-sity__button"),addCityInput=function(e){e.preventDefault();var t=document.querySelector(".js-add-sity__block"),r=document.querySelectorAll(".js-calendar");0===t.children.length?(addCity.classList.remove("js-none"),addCity.value=""):""===r[r.length-1].value&&void 0!==r?alert("Добавьте дату у последнего города"):(addCity.classList.remove("js-none"),addCity.value="")};addCityButton.addEventListener("click",addCityInput);var inputTime=void 0,picker=new Pikaday({field:document.getElementById("datepicker"),firstDay:1,format:"D.MM.YYYY",onSelect:function(){this.getMoment().format("Do MM.YYYY"),inputTime=document.getElementById("datepicker"),getWeatherWayFirst(weatherWay.start.lat,weatherWay.start.lng,dateConvert(inputTime.value),"ru"),console.log(inputTime.value)},i18n:{previousMonth:"Previous Month",nextMonth:"Next Month",months:["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],weekdays:["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"],weekdaysShort:["Вс","Пн","Вт","Ср","Чт","Пт","Сб"]}}),deleteSityBlock=function(e){if(e.target.classList.contains("add-sity__del"))if(e.target.parentNode.classList.contains("js-count_0")){e.target.parentNode.remove(),delete weatherWay.start;var t=document.querySelector(".js-way");t.remove()}else{var r=e.target.parentNode.classList,a=r[1],n=a.split("_"),o=n[1];delete weatherWay["start_"+o];var i=document.querySelector(".js-way_"+o);i.remove(),e.target.parentNode.remove()}};htmlCityBlock.addEventListener("click",deleteSityBlock);var weatherWay={start:{lat:"50.4501",lng:"30.523400000000038",sityName:"Киев",toDay:{header:{},body:[]}}},goWayFullLink=function(e){var t=document.querySelector(".wayfull");console.log(t.children),t.children>1&&t.children.remove(),arrBlockSity.forEach(function(e){return t.append(e)})},headerText=document.querySelector(".header-visual__text"),textWeatherArr={textWeather:"Сейчас за окном",viewWeather:["катастрофический мороз","чрезвычайно сильный мороз","сильный мороз","умеренный мороз","мороз","слабый мороз","холодно","прохладно","тепло","очень тепло","жара","сильная жара","чрезвычайно сильная погода (вероятны тепловые удары)","катастрофическая жара"],clothesWeather:["одевайся теплее","одевайся теплее, не забывай шапку, шарф и перчатки","одевай курточку","одевайся теплее и не забудь зонтик","одевай кофту","одевай кофту и не забудь зонтик","не забудь зонтик"]};textWeather();